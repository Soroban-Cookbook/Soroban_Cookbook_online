---
sidebar_position: 1
title: Responsive Breakpoint System
description: Mobile-first responsive design guidelines, breakpoint tokens, container system, and utility classes for the Soroban Cookbook.
---

# Responsive Breakpoint System

The Soroban Cookbook uses a **mobile-first** responsive design approach. Styles are written for the smallest screen first, then progressively enhanced for larger screens using `min-width` media queries.

:::info Import Required
Make sure `breakpoints.css` is loaded in your `docusaurus.config.js`:

```js
stylesheets: [
  './src/css/custom.css',
  './src/css/breakpoints.css',
],
```
:::

---

## Breakpoint Scale

We extend Infima's default breakpoint scale with an additional `2xl` tier for wide/ultrawide screens.

| Token | CSS Variable | Width | Typical Device |
|-------|-------------|-------|----------------|
| `xs` | `--breakpoint-xs` | `0px` | Mobile portrait (default) |
| `sm` | `--breakpoint-sm` | `480px` | Mobile landscape |
| `md` | `--breakpoint-md` | `768px` | Tablet |
| `lg` | `--breakpoint-lg` | `996px` | Small desktop / laptop |
| `xl` | `--breakpoint-xl` | `1280px` | Desktop |
| `2xl` | `--breakpoint-2xl` | `1536px` | Wide / ultrawide |

:::note
`lg` at `996px` intentionally matches Infima's internal `--ifm-container-width-xl` trigger to stay compatible with Docusaurus's built-in layout system.
:::

### Using Breakpoints in Custom CSS

Because CSS custom properties cannot be used inside `@media` queries natively, use the raw pixel values directly in your media queries:

```css
/* ✅ Correct — mobile-first, min-width */
.my-component {
  font-size: 1rem;        /* xs: default */
}

@media (min-width: 768px) {
  .my-component {
    font-size: 1.25rem;   /* md and above */
  }
}

@media (min-width: 996px) {
  .my-component {
    font-size: 1.5rem;    /* lg and above */
  }
}

/* ❌ Avoid — max-width (desktop-first) */
@media (max-width: 767px) {
  .my-component {
    font-size: 1rem;
  }
}
```

### Using Breakpoints in JavaScript

The breakpoint tokens are available as CSS custom properties and can be read in JavaScript:

```js
const breakpoints = {
  xs:  getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-xs'),
  sm:  getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-sm'),
  md:  getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-md'),
  lg:  getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-lg'),
  xl:  getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-xl'),
  '2xl': getComputedStyle(document.documentElement).getPropertyValue('--breakpoint-2xl'),
};

// Example: check if viewport is at least md
const isMd = window.matchMedia('(min-width: 768px)').matches;
```

---

## Container System

Containers center your content and constrain its max-width at each breakpoint. All containers are full-width on mobile by default.

| Class | Constrains at | Max-width |
|-------|--------------|-----------|
| `.container-fluid` | Never | Unlimited |
| `.container-sm` | `480px+` | `540px` |
| `.container-md` | `768px+` | `720px` |
| `.container-lg` | `996px+` | `960px` |
| `.container-xl` | `1280px+` | `1240px` |
| `.container-2xl` | `1536px+` | `1500px` |
| `.container` | Steps through all | All of above |

### Usage

```html
<!-- Constrains width at every breakpoint (recommended default) -->
<div class="container">
  ...
</div>

<!-- Always full-width, just adds horizontal padding -->
<div class="container-fluid">
  ...
</div>

<!-- Only constrains at lg and above -->
<div class="container-lg">
  ...
</div>
```

:::tip
Use `.container` for most pages. Use `.container-fluid` for full-bleed sections like hero banners or image galleries.
:::

---

## Responsive Grid

A 12-column CSS grid system with breakpoint-prefixed column spans.

### Basic Grid

```html
<!-- 3-column grid -->
<div class="grid">
  <div class="col-4">Column 1</div>
  <div class="col-4">Column 2</div>
  <div class="col-4">Column 3</div>
</div>
```

### Responsive Grid (Mobile-first)

Columns stack on mobile and expand at wider breakpoints:

```html
<!-- Full width on mobile → half on tablet → third on desktop -->
<div class="grid">
  <div class="col-12 col-md-6 col-lg-4">Card 1</div>
  <div class="col-12 col-md-6 col-lg-4">Card 2</div>
  <div class="col-12 col-md-6 col-lg-4">Card 3</div>
</div>
```

### Available Column Spans

| Class | Columns spanned | Width |
|-------|----------------|-------|
| `.col-1` | 1 of 12 | ~8% |
| `.col-2` | 2 of 12 | ~17% |
| `.col-3` | 3 of 12 | 25% |
| `.col-4` | 4 of 12 | ~33% |
| `.col-6` | 6 of 12 | 50% |
| `.col-8` | 8 of 12 | ~67% |
| `.col-12` | 12 of 12 | 100% |

Prefix any of these with `sm-`, `md-`, `lg-`, or `xl-` to apply only at that breakpoint and above (e.g. `.col-md-6`).

---

## Visibility Utilities

Show or hide elements at specific breakpoints without writing custom media queries.

### Hide Below a Breakpoint

Hides the element on small screens, shows it on larger screens.

```html
<!-- Hidden on mobile, visible on tablet and above -->
<nav class="hide-md-down">
  Desktop Navigation
</nav>
```

| Class | Hidden when |
|-------|------------|
| `.hide-xs-down` | `< 480px` |
| `.hide-sm-down` | `< 768px` |
| `.hide-md-down` | `< 996px` |
| `.hide-lg-down` | `< 1280px` |
| `.hide-xl-down` | `< 1536px` |

### Hide Above a Breakpoint

Hides the element on large screens, shows it on smaller screens.

```html
<!-- Visible on mobile only, hidden on tablet and above -->
<button class="hide-md-up">
  ☰ Mobile Menu
</button>
```

| Class | Hidden when |
|-------|------------|
| `.hide-sm-up` | `≥ 480px` |
| `.hide-md-up` | `≥ 768px` |
| `.hide-lg-up` | `≥ 996px` |
| `.hide-xl-up` | `≥ 1280px` |
| `.hide-2xl-up` | `≥ 1536px` |

### Show Only at a Specific Breakpoint

```html
<!-- Only visible on tablet screens -->
<div class="show-md-only">
  Tablet-specific content
</div>
```

| Class | Visible when |
|-------|-------------|
| `.show-xs-only` | `< 480px` |
| `.show-sm-only` | `480px – 767px` |
| `.show-md-only` | `768px – 995px` |
| `.show-lg-only` | `996px – 1279px` |
| `.show-xl-only` | `1280px – 1535px` |
| `.show-2xl-only` | `≥ 1536px` |

---

## Spacing Utilities

### Section Spacing

Adds responsive vertical padding that grows on wider screens:

```html
<section class="section-spacing">
  ...
</section>
```

| Breakpoint | Padding |
|-----------|---------|
| Mobile (`xs`) | `2rem` (32px) |
| Tablet (`md`) | `3rem` (48px) |
| Desktop (`lg`) | `4rem` (64px) |
| Wide (`xl`) | `5rem` (80px) |

### Responsive Gap

For flex or grid children:

```html
<div class="grid gap-responsive">
  ...
</div>
```

### Spacing Scale

Use these tokens in your custom CSS for consistent spacing:

```css
.my-component {
  padding: var(--space-4);   /* 16px */
  margin-bottom: var(--space-8); /* 32px */
}
```

| Token | Value |
|-------|-------|
| `--space-1` | 4px |
| `--space-2` | 8px |
| `--space-3` | 12px |
| `--space-4` | 16px |
| `--space-6` | 24px |
| `--space-8` | 32px |
| `--space-12` | 48px |
| `--space-16` | 64px |
| `--space-20` | 80px |
| `--space-24` | 96px |

---

## Typography Utilities

### Responsive Headings

```html
<h1 class="heading-responsive">
  Scales from 24px → 48px across breakpoints
</h1>
```

| Breakpoint | Font size |
|-----------|-----------|
| Mobile | `1.5rem` (24px) |
| Tablet (`md`) | `1.875rem` (30px) |
| Desktop (`lg`) | `2.25rem` (36px) |
| Wide (`xl`) | `3rem` (48px) |

### Responsive Body Text

```html
<p class="text-responsive">
  Scales from 16px on mobile to 18px on desktop.
</p>
```

### Type Scale Tokens

```css
.my-label {
  font-size: var(--text-sm);   /* 14px */
}

.my-heading {
  font-size: var(--text-3xl);  /* 30px */
}
```

---

## Flex Layout Utilities

### Stack → Row on Tablet

```html
<div class="flex-col-md-row">
  <div>Stacked on mobile</div>
  <div>Side by side on tablet+</div>
</div>
```

### Stack → Row on Desktop

```html
<div class="flex-col-lg-row">
  <div>Stacked on mobile & tablet</div>
  <div>Side by side on desktop+</div>
</div>
```

---

## Performance & CLS Prevention

### Responsive Images

Always set explicit dimensions on images to prevent Cumulative Layout Shift (CLS):

```html
<!-- Use the img-responsive class + explicit aspect-ratio -->
<img
  src="/img/my-image.png"
  alt="Description"
  class="img-responsive"
  width="1200"
  height="675"
  style={{ aspectRatio: '16/9' }}
/>
```

### Layout Transitions

For elements that change size at breakpoints, add `.layout-transition` to smooth the change:

```html
<div class="container layout-transition">
  ...
</div>
```

:::caution Reduced Motion
`.layout-transition` automatically disables transitions for users who have **Reduce Motion** enabled in their OS settings, ensuring accessibility compliance.
:::

---

## Mobile-First Best Practices

Follow these guidelines when building responsive components for the Soroban Cookbook:

**1. Always start with mobile styles.** Write your base CSS for the smallest screen, then add `min-width` media queries to enhance for larger screens. Never write `max-width` queries unless absolutely necessary.

**2. Use the container system.** Wrap page content in `.container` instead of hardcoding widths. Let the system handle max-widths and padding for you.

**3. Use tokens, not magic numbers.** Reference `--space-*`, `--text-*`, and `--breakpoint-*` variables instead of arbitrary pixel values. This ensures consistency across the codebase.

**4. Test at every breakpoint.** Use browser DevTools to test at `480px`, `768px`, `996px`, `1280px`, and `1536px`. Don't just test at the extremes.

**5. Avoid layout shift.** Always set `width` and `height` on images. Use `.img-responsive` and explicit `aspect-ratio` values for media.

**6. Respect reduced motion.** Never rely solely on animation to convey information. Use `.layout-transition` instead of writing raw `transition` properties so reduced-motion is handled automatically.

**7. Keep touch targets large enough.** Interactive elements (buttons, links) should be at least `44×44px` on mobile per WCAG 2.1 AA guidelines.

---

## Testing Checklist

Before submitting a PR with responsive changes, verify the following:

- [ ] Layout looks correct at `xs` (320px), `sm` (480px), `md` (768px), `lg` (996px), `xl` (1280px), `2xl` (1536px)
- [ ] No horizontal scrollbar at any breakpoint
- [ ] Images don't cause layout shift (CLS score = 0)
- [ ] Text remains readable (min `16px` body, sufficient contrast)
- [ ] Interactive elements are at least `44×44px` on mobile
- [ ] Tested in Chrome, Firefox, and Safari
- [ ] Tested with keyboard navigation
- [ ] Tested with OS "Reduce Motion" enabled
- [ ] `hide-*` / `show-*` utilities work as expected